<script type="text/javascript" charset="utf-8" src="/vendors/ueditor/ueditor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="/vendors/ueditor/ueditor.all.min.js"> </script>
<script type="text/javascript" src="/js/plugins.js"></script>
<link rel='stylesheet' media='all' href='/css/plugins.css'/>
<div class="panel panel-default">
    <div class="panel-heading">
        <i class="fa fa-pencil-square"></i> {{title}}
    </div>
    <div class="panel-body">
        <div id="message"></div>
        <form class="form-horizontal" action="/article/post" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label class="col-sm-2 control-label no-padding-right">标题</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="title" maxlength="32" data-required >
                </div>
            </div>
            <div class="form-group">
                <label for="desc" class="col-sm-2 control-label no-padding-right">内容</label>
                <input type="hidden" id="editor" name="editor" value=""/>
                <div class="col-sm-8">
                    <textarea id="content" name="content"  rows="5" data-required data-describedby="message" data-description="content"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label no-padding-right">标签</label>
                <div class="col-sm-8">
                    <input type="hidden" name="tags" id="fieldTags" value="123">
                    <ul id="tags"></ul>
                    <p class="help-block" style="font-size: 12px;">添加相关标签，用逗号或空格分隔 (最多4个).</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label no-padding-right">访问权限</label>
                <div class="col-sm-3">
                    <select class="form-control" name="privacy">
                        <option value="0">公开</option>
                        <option value="1">私密</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">提交</button>
                    </div>
                </div>
            </div>
        </form>
        <!-- /form-actions -->
    </div>
</div>
{{#section 'jquery'}}
    <script type="text/javascript">
        var ue = UE.getEditor('content');
        ue.addListener("blur",function(){
            $("#editor").val(ue.getContent());
        })
        $('#content').on('valuechange', function (e, previous) {
            alert($(this).val());
        })
        $('#tags').tagit({
            singleField: true,
            singleFieldNode: $('#fieldTags')
        });
    </script>
{{/section}}
